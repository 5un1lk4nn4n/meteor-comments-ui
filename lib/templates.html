<template name="commentsBox">
    {{! We have not found any good way to include templates with the same context
        even when using Template.dynamic }}

    <div class="comments-box">
        {{#if templateIs 'bootstrap3' }}
            <h3>Comments</h3>

            <form class="create-form" role="form" action="">
                <div class="form-group">
                    <textarea placeholder="Create a comment!" class="form-control create-comment" rows="3"></textarea>
                </div>
                <button type="submit" class="btn btn-primary">Add Comment</button>
            </form>

            <ul class="media-list comments">
                {{#each comment}}
                <li class="media">
                    {{#if hasAvatar}}
                        <a class="media-left" href="#">
                            <img src="..." alt="...">
                        </a>
                    {{/if}}
                    <div class="media-body comment">
                        <h4 class="media-heading">{{user.email}} <small>{{createdAgo}}</small></h4>
                        <p class="content">{{content}}</p>

                        <div class="actions">
                            <button type="button" class="btn {{#if hasLiked}}btn-primary{{else}}btn-default{{/if}} like" aria-label="Left Align">
                                <span class="badge">{{likesCount}}</span> <span class="glyphicon glyphicon-thumbs-up" aria-hidden="true"></span>
                            </button>

                            <button type="button" class="btn btn-danger remove" aria-label="Left Align">
                                <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
                            </button>
                        </div>
                    </div>
                </li>
                {{/each}}
            </ul>
        {{/if}}

        {{#if templateIs 'semantic-ui' }}
            <div class="ui comments">
                <h3 class="ui header">Comments</h3>

                <form class="ui reply form create-form">
                    <div class="field">
                        <textarea class="create-comment"></textarea>
                    </div>
                    <button type="submit" class="ui blue labeled submit icon button">
                        <i class="icon edit"></i> Add Comment
                    </button>
                </form>

                {{#each comment}}
                <div class="comment">
                    {{#if hasAvatar}}
                        <a class="avatar">
                            <img src="/images/avatar/small/matt.jpg">
                        </a>
                    {{/if}}

                    <div class="content">
                        <a class="author">{{user.email}}</a>
                        <div class="metadata">
                            <span class="date">{{createdAgo}}</span>
                            <div class="rating">
                                <i class="like icon"></i>
                                {{likesCount}} Likes
                            </div>
                        </div>
                        <div class="text">
                            {{content}}
                        </div>
                        <div class="actions">
                            <a class="ui mini {{#if hasLiked}}blue{{/if}} like button">Like</a>
                            <a class="ui mini remove button">Remove</a>
                        </div>
                    </div>
                </div>
                {{/each}}
            </div>
        {{/if}}
    </div>
</template>
